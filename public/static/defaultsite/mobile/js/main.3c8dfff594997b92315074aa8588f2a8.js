var $header=$(".header").offset().top,$footer=$(".footer").height(),itemstoshow=1;function initSwiper(){new Swiper(".main-nav .swiper",{slidesPerView:"auto",freeMode:!0,freeModeMomentumRatio:.5,freeModeMomentumBounce:!1,on:{init:function(){$(".main-nav .active").length>0&&this.slideTo($(".active").index()-2,500,!1)}}}),new Swiper(".main-breaking-swiper .swiper",{slidesPerView:"auto",loop:!0,allowTouchMove:!1,autoplay:{delay:0,disableOnInteraction:!1},speed:3e4});var e=new Swiper(".dt-photo .swiper",{slidesPerView:"auto",loop:!0,pagination:{el:".swiper-pagination",type:"fraction"}});if($("#photonews-data").data("page")){var o=parseInt($("#photonews-data").data("page"));e.slideTo(o,1e3,!1)}e.on("slideChange",(function(){var o=$("#photonews-data").data("url");o+="/page-"+(e.realIndex+1),window.location.search&&(o+=window.location.search),window.history.pushState({},"",o)}))}$(".section--infscroll-list-item:nth-of-type(n+2)").filter((function(e){return $(this).offset().top>$(window).height()-$footer})).hide(),$(window).scroll((function(){$(".backtop").toggleClass("show",$(this).scrollTop()>200),$(".header").toggleClass("sticky",$(this).scrollTop()>$header),$(".section--infscroll").length&&($(window).scrollTop()>=$(".section--infscroll").offset().top+$(".section--infscroll").outerHeight()-$(window).height()-200&&$(".section--infscroll-list-item:hidden:lt("+itemstoshow+")").delay(1e3).fadeIn(500),$(".section--infscroll-list-item:last-of-type").is(":visible")&&$(".section--infscroll-next").addClass("finished"))})),$(document).on("click",".backtop",(function(){$("html, body").animate({scrollTop:0},1e3)})),initSwiper(),document.addEventListener("turbolinks:load",(function(){initSwiper()}));
