var $header=$(".header").offset().top,$footer=$(".footer").height(),itemstoshow=1;function initSwiper(){let e=[];$(".section-swiper .swiper").each((function(t,o){$(this).addClass("instance-"+t),$(this).parent().find(".swiper-button-prev").addClass("btn-prev-"+t),$(this).parent().find(".swiper-button-next").addClass("btn-next-"+t),e[t]=new Swiper(".instance-"+t,{slidesPerView:"auto",loop:!0,navigation:{nextEl:".btn-next-"+t,prevEl:".btn-prev-"+t}})}));var t=new Swiper(".main-photo-swiper-top .swiper",{loop:!0,loopedSlides:5,pagination:{el:".swiper-desc-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),o=new Swiper(".main-photo-swiper-thumbs .swiper",{slidesPerView:"auto",loop:!0,centeredSlides:!0,loopedSlides:5,touchRatio:.2,slideToClickedSlide:!0});t.controller.control=o,o.controller.control=t}function copyToClipboard(e){if(window.clipboardData)window.clipboardData.setData("Text",e);else{unsafeWindow.netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");Components.classes["@mozilla.org/widget/clipboardhelper;1"].getService(Components.interfaces.nsIClipboardHelper).copyString(e)}}$(".section--infscroll-list-item:nth-of-type(n+2)").filter((function(e){return $(this).offset().top>$(window).height()-$footer})).hide(),$(window).scroll((function(){$(".backtop").toggleClass("show",$(this).scrollTop()>200),$(".header").toggleClass("sticky",$(this).scrollTop()>$header),$(".section--infscroll").length&&($(window).scrollTop()>=$(".section--infscroll").offset().top+$(".section--infscroll").outerHeight()-$(window).height()-200&&$(".section--infscroll-list-item:hidden:lt("+itemstoshow+")").delay(1e3).fadeIn(500),$(".section--infscroll-list-item:last-of-type").is(":visible")&&$(".section--infscroll-next").addClass("finished"))})),$(document).on("click",".backtop",(function(){$("html, body").animate({scrollTop:0},1e3)})),initSwiper(),$(document).on("click",".main-photo-header-fullscreen",(function(e){$(this).closest("body").toggleClass("fullscreen"),e.preventDefault()})),document.addEventListener("turbolinks:load",(function(){initSwiper()})),$(document).on("click",".topic-side-anchor-list a",(function(e){e.preventDefault();var t=$(this).attr("href");$("html, body").animate({scrollTop:$(t).offset().top},1e3)})),$(document).on("click",".copy-text",(function(e){e.preventDefault(),$(this).data("text")&&copyToClipboard($(this).data("text"))}));
